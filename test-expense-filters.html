<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Ä–∞—Å—Ö–æ–¥–æ–≤</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-6">üîç –¢–µ—Å—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Ä–∞—Å—Ö–æ–¥–æ–≤</h1>
        
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
            <h2 class="text-lg font-semibold text-blue-800 mb-2">‚úÖ –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:</h2>
            <ul class="text-blue-700 text-sm space-y-1">
                <li>‚Ä¢ –ë–ª–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å —Ç—Ä–µ–º—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏ (–§–∏—Ä–º–∞, –¢–æ–≤–∞—Ä, –ö–ª–∏–µ–Ω—Ç)</li>
                <li>‚Ä¢ –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å" –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤—Å–µ—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤</li>
                <li>‚Ä¢ –°—á–µ—Ç—á–∏–∫ "–ü–æ–∫–∞–∑–∞–Ω–æ X –∏–∑ Y –∑–∞–ø–∏—Å–µ–π"</li>
                <li>‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –∏–∑ –¥–∞–Ω–Ω—ã—Ö</li>
                <li>‚Ä¢ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π</li>
                <li>‚Ä¢ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</li>
            </ul>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h3 class="text-lg font-semibold mb-4">üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</h3>
                <div class="space-y-3">
                    <button id="checkElements" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
                        –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                    </button>
                    <div id="elementsResult" class="text-sm bg-gray-50 p-3 rounded hidden">
                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ -->
                    </div>
                </div>
            </div>

            <!-- –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–π -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h3 class="text-lg font-semibold mb-4">üß™ –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–π</h3>
                <div class="space-y-3">
                    <button id="testFunctions" class="w-full bg-green-600 text-white py-2 rounded hover:bg-green-700">
                        –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
                    </button>
                    <div id="functionsResult" class="text-sm bg-gray-50 p-3 rounded hidden">
                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                    </div>
                </div>
            </div>

            <!-- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h3 class="text-lg font-semibold mb-4">üìä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                <div class="space-y-3">
                    <button id="addTestData" class="w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700">
                        –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
                    </button>
                    <div id="testDataResult" class="text-sm bg-gray-50 p-3 rounded hidden">
                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö -->
                    </div>
                </div>
            </div>

            <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ -->
            <div class="bg-white p-6 rounded-lg shadow">
                <h3 class="text-lg font-semibold mb-4">üìã –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</h3>
                <div class="text-sm space-y-2">
                    <p><strong>1.</strong> –û—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (index.html)</p>
                    <p><strong>2.</strong> –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</p>
                    <p><strong>3.</strong> –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–†–∞—Å—Ö–æ–¥—ã"</p>
                    <p><strong>4.</strong> –ù–∞–π–¥–∏—Ç–µ –±–ª–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π</p>
                    <p><strong>5.</strong> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ö</p>
                    <p><strong>6.</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è</p>
                </div>
            </div>
        </div>

        <!-- –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã -->
        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-6">
            <h3 class="text-lg font-semibold text-yellow-800 mb-2">‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:</h3>
            <ul class="text-yellow-700 text-sm space-y-1">
                <li>‚Ä¢ <strong>–§–∏–ª—å—Ç—Ä—ã –Ω–µ –≤–∏–¥–Ω—ã:</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–∞—Å—Ö–æ–¥—ã"</li>
                <li>‚Ä¢ <strong>–°–ø–∏—Å–∫–∏ –ø—É—Å—Ç—ã–µ:</strong> –î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π —Ä–∞—Å—Ö–æ–¥–æ–≤</li>
                <li>‚Ä¢ <strong>–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:</strong> –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫</li>
                <li>‚Ä¢ <strong>–û—à–∏–±–∫–∏ JavaScript:</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã</li>
            </ul>
        </div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        document.getElementById('checkElements').addEventListener('click', function() {
            const result = document.getElementById('elementsResult');
            result.classList.remove('hidden');
            
            let html = '<strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤:</strong><br><br>';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º –æ–∫–Ω–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)
            if (window.parent && window.parent !== window) {
                const parentDoc = window.parent.document;
                
                const elements = [
                    'filterExpenseCompany',
                    'filterExpenseProduct', 
                    'filterExpenseClient',
                    'clearExpenseFilters',
                    'expenseFilterCount',
                    'expenseTotalCount'
                ];
                
                elements.forEach(id => {
                    const element = parentDoc.getElementById(id);
                    const status = element ? '‚úÖ' : '‚ùå';
                    html += `${status} ${id}: ${element ? '–Ω–∞–π–¥–µ–Ω' : '–Ω–µ –Ω–∞–π–¥–µ–Ω'}<br>`;
                });
            } else {
                html += '‚ùå –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ iframe –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è<br>';
            }
            
            result.innerHTML = html;
        });

        // –¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–π
        document.getElementById('testFunctions').addEventListener('click', function() {
            const result = document.getElementById('functionsResult');
            result.classList.remove('hidden');
            
            let html = '<strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π:</strong><br><br>';
            
            if (window.parent && window.parent !== window) {
                const parentWindow = window.parent;
                
                const functions = [
                    'initializeExpenseFilters',
                    'updateExpenseFilterOptions',
                    'applyExpenseFilters',
                    'clearExpenseFilters',
                    'updateExpenseTableWithFilters'
                ];
                
                functions.forEach(funcName => {
                    const func = parentWindow[funcName];
                    const status = typeof func === 'function' ? '‚úÖ' : '‚ùå';
                    html += `${status} ${funcName}: ${typeof func}<br>`;
                });
            } else {
                html += '‚ùå –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ iframe –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è<br>';
            }
            
            result.innerHTML = html;
        });

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        document.getElementById('addTestData').addEventListener('click', function() {
            const result = document.getElementById('testDataResult');
            result.classList.remove('hidden');
            
            if (window.parent && window.parent !== window) {
                const parentWindow = window.parent;
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –æ–∫–Ω–æ
                if (typeof parentWindow.addTestExpenseData === 'function') {
                    try {
                        parentWindow.addTestExpenseData();
                        result.innerHTML = '‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–∞—Å—Ö–æ–¥—ã"';
                    } catch (error) {
                        result.innerHTML = '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö: ' + error.message;
                    }
                } else {
                    result.innerHTML = '‚ùå –§—É–Ω–∫—Ü–∏—è addTestExpenseData –Ω–µ –Ω–∞–π–¥–µ–Ω–∞';
                }
            } else {
                result.innerHTML = '‚ùå –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ iframe –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è';
            }
        });
    </script>
</body>
</html>